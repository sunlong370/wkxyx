<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<!--标准mui.css-->
		<link rel="stylesheet" href="css/mui.min.css">
		<link rel="stylesheet" href="css/common.css">
	</head>
	
	<style type="text/css">

	</style>	
	<body>
		<header class="mui-bar mui-bar-nav">
			<!-- <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a> -->
			<h1 class="mui-title" >注册</h1>
		</header>
		<div class="mui-content" style="background-color: #232A38;">
			<form id='login-form' onsubmit="return false">
				<div class="form-item">
					<input type="text" id="account" name="account" type="text" maxlength="20" placeholder="请输入账号" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')">
				</div>
				<div class="form-item">
					<input type="password" id="password" placeholder="请输入密码" maxlength="20" onkeyup="value=value.replace(/[^\a-\z\A-\Z0-9\@\.]/g,'')">
					<img src="img/hide.png" class="hide-img">
				</div>
				<div class="form-item">
					<input id='phone' type="text" name="phone" placeholder="请输入手机号" onKeyUp="value=value.replace(/[^\d]/g,'')">
				</div>
				<div class="form-item">
					<input id='code' type="text" name="code" placeholder="请输入验证码" onKeyUp="value=value.replace(/[^\d]/g,'')">
					 <p class="send-code " left_second="0" onclick="send_login_verify()" href="javascript:void(0);">获取验证码</p>
				</div>
				<button type="button" class="mui-btn mui-btn-block mui-btn-primary" onclick="validation()">注册</button>
			</form>
			<p class="go-tips">已有账号？ <a href="">去登录</a></p>
		</div>
		<script src="js/mui.min.js"></script>
		<script src="js/jquery-1.7.2.min.js"></script>
		<script>
			$("input,textarea").on("input",function(){
	            var account = $("#account").val();
	            var password = $("#password").val();
	            var phone = $("#phone").val();
	            var code = $("#code").val();
	            if(account != '' && password != '' && phone != '' && code != ''){
	                $(".mui-btn-block").css("background-color","#02B3E5");
	            }else{
	                $(".delivery_shipping_btn").css("background","rgba(205,132,79,0.66)");
	                
	            }
			});
			
			
			
			mui.init({
				swipeBack:true //启用右滑关闭功能
			});
			function validation(){
				var account = $("#account").val();
				if ($.trim(account) == '') {
					mui.toast('账号输入有误，账号应该为6-20位字符（字母+数字）');
					return false;
				}
				var password = $("#password").val();
				if ($.trim(password) == '') {
					mui.toast('密码输入有误，密码应该位6-20位字符（字母+数字+特殊字符）');
					return false;
				}
				var pat = /^1[3|4|5|6|9|7|8][0-9]\d{4,8}$/;
				var phone = $("#phone").val();
				if ($.trim(phone) == '' || phone.length != 11 || !pat.test(phone)) {
					mui.toast('手机号格式输入有误');
					return false;
				}
				var code = $("#code").val();
				if ($.trim(code) == '') {
					mui.toast('验证码必须填写');
					return false;
				}
				return true;
			}
			$('.hide-img').toggle(function () {
				$(this).attr('src',"img/look.png");
				$("#password")[0].type = 'text';
			},function () {
				$(this).attr('src',"img/hide.png");
				$("#password")[0].type = 'password';
			})
		</script>
	</body>

</html>